---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-"
)
```

# CenCost
An R package to calculate estimates of total costs with censored data

## Overview









## Installation
```{r, eval = FALSE}
# The easiest way to install:
devtools::install_github("")
```










## Data format

Cost data should look something like this
```{r echo=FALSE}
id           <- c("A", "B" ,"C")

tcost    <- c(2544,4245,590)
delta        <- c(0,0,1)
surv         <- c(343,903,445)

df_0 <- data.frame(id, tcost, delta, surv)
print(df_0, row.names=FALSE)
```



It is possible to get better estimates of the true mean if cost history is available, if so the data should look something like this:
```{r echo=FALSE}
id      <- c("A", "A", "A", "B" ,"C", "C")

start   <- c(1,30,88,18,1,67)
stop    <- c(1,82,88,198,5,88)
cost    <- c(550,1949,45,4245,23,567)
delta   <- c(0,0,0,0,1,1)
surv    <- c(343,343,343,903,445,445)

df_0 <- data.frame(id, start,stop,cost,delta,surv)
print(df_0, row.names=FALSE)
```


## Explanation of estimates

The package calculates two conventional but wrong estimates of the mean cost. The first is the full sample which divides total costs of all observations with the number of observations. This is correct if there is no censoring present. If there is it is underestimating the real costs due to missing information.

<img src="img/fullsample.png"/>

The scecond is the complete cases, here all data but the complete is filtered out. This creates a bias towards short observations as they have a greater chance of not being removed.

<img src="img/completecase.png"/>


It is possible to come up with better estimates of the mean costs, there are two fundamental different approaches. The first takes into account only total costs over the whole period, but it is possible to improve this type of estimates if cost history is present. If that is the case this additional information is used in 

### Estimates without cost history

LinT
BT

### Estimates with cost history

LinA
LinB
ZT
BTp












